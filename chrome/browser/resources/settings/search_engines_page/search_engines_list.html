<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/cr_elements/shared_vars_css.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-list/iron-list.html">
<link rel="import" href="../settings_shared_css.html">
<link rel="import" href="../settings_vars_css.html">
<link rel="import" href="search_engine_entry.html">
<link rel="import" href="search_engines_browser_proxy.html">

<dom-module id="settings-search-engines-list">
  <template>
    <style include="settings-shared">
      #headers {
        display: flex;
        padding: 4px 0;
        box-shadow: 0px 1px 0px 0px var(--setting-passwd-border-color); 
        color: var(--cr-toolbar-search-field-prompt-color);
        font-weight: 500;
        border-radius: 8px 8px 0 0;
        background-color: var(--setting-passwd-header-background-color);
      }
      #headers div{
        border-left: 1px solid var(--setting-passwd-border-color);
        padding-left: 6px;
        box-sizing: border-box;
        line-height: 2;
      }
      #headers div:first-child{
        border: none;
      }
      #headers .name{
        flex: 30;
      }
      #headers .keyword {
        flex: 24;
      }

      #headers .url {
        flex: 32;
      }
      #outer {
        @apply --settings-list-frame-padding;
        padding-left: 0;
        margin-bottom: 10px;
        padding-right: 0;
        margin-top: 10px;
      }

      settings-search-engine-entry {
        /* border-top: var(--cr-separator-line); */
        /* padding-left: 7px; */
        border-radius: 8px;
        /* margin-top: 1px; */
      }
      settings-search-engine-entry:nth-child(even){
        background: var(--setting-link-row-background-color) !important;
      }
      settings-search-engine-entry:nth-child(odd){
        background: var(--setting-passwd-odd-background-color) !important;
      }

      :host([fixed-height]) #container {
        /* Max items we show before scrolling is 6. Adding a 7th item to the
         * list will add a scroll bar to the container. */
        max-height: calc((var(--settings-row-min-height) +
                          var(--cr-separator-height)) * 6);
      }

      .icon-placeholder {
        margin-inline-end: 0;
        margin-inline-start: var(--cr-icon-button-margin-start);
        width: var(--cr-icon-ripple-size);
        border: none !important;
        padding-left: 0;
        margin-left:24px;
      }
      iron-list{
        margin-top: 1px;
      }
    </style>
    <div id="outer">
      <div id="headers" class="column-header">
        <div class="name">$i18n{searchEnginesSearchEngine}</div>
        <div class="keyword">$i18n{searchEnginesKeyword}</div>
        <div class="url">$i18n{searchEnginesQueryURL}</div>
        <div class="icon-placeholder"></div>
      </div>
      <div id="container" class="scroll-container"
          scrollable$="[[fixedHeight]]">
        <iron-list items="[[engines]]" scroll-target="[[scrollTarget]]"
            scroll-offset="[[scrollOffset]]" preserve-focus risk-selection>
          <template>
            <settings-search-engine-entry engine="[[item]]"
                focus-row-index="[[index]]"
                tabindex$="[[tabIndex]]" iron-list-tab-index="[[tabIndex]]"
                last-focused="{{lastFocused_}}" list-blurred="{{listBlurred_}}">
            </settings-search-engine-entry>
          </template>
        </iron-list>
      </div>
    </div>
  </template>
  <script src="search_engines_list.js"></script>
</dom-module>
