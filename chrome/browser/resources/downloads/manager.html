<style include="cr-page-host-style cr-shared-style cr-hidden-style">
  :host {
    display: flex;
    flex: 1 0;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    z-index: 0;
    background: rgba(0,0,0,0.03);
  }

  @media (prefers-color-scheme: dark) {
    :host {
      color: var(--cr-secondary-text-color);
    }
  }

  #toolbar {
    z-index: 1;
  }

  :host([has-shadow_]) #drop-shadow {
    opacity: var(--cr-container-shadow-max-opacity);
  }

  downloads-item,
  #downloadsList {
    --downloads-card-margin: 24px;
    --downloads-card-width: 680px;
  }

  #downloadsList {
    width: 1000px;
    margin: 0 auto;
    background-color: var(--cr-iron-background-color);
    margin-top: 20px;
    padding-top: 6px;
  }

  #no-downloads,
  #downloadsList {
    flex: 1;
  }

  :host([loading]) #no-downloads,
  :host([loading]) #downloadsList {
    display: none;
  }

  #no-downloads {
    /* To avoid overlapping with the header, we need this min-height
     * until bug 596743 is fixed. */
    min-height: min-content;
    /* font-size: 14px; */
    font-weight: Normal;
    /* color: rgba(85,85,85,0.4); */
    color: var(--cr-iron-no-result-font-color);
    width: 100%;
    max-width: 1000px;
    margin: 0 auto;
    padding-top: 20px;
    box-sizing: border-box;
  }
  #no-downloads .no-results {
    height: 100%;
    width: 100%;
    align-items: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background-color: var(--cr-iron-background-color);
    font-size: 14px;
  }

  @media (prefers-color-scheme: dark) {
    #no-downloads {
      color: var(--cr-secondary-text-color);
    }
  }

  #no-downloads .illustration {
    background: var(--downloads-illustration-icon) no-repeat
        center center;
    background-size: contain;
    width: 117px;
    height: 97px;
    margin-bottom: 18px;
  }

  #mainContainer {
    display: flex;
    flex: 1;
    flex-direction: column;
    height: 100%;
    overflow-y: overlay;
    background-color: var(--cr-sidebar-background-color);
  }
  #mainContainer::-webkit-scrollbar {
    @apply --cr-scrollbar;
  }
  #mainContainer::-webkit-scrollbar-thumb {
    @apply --cr-scrollbar-thumb;
  }


  managed-footnote {
    border-top: none;
    /* margin-bottom is needed to compensate for the next element's 21px
     * margin at the top and 8px padding at the top. This leaves a 12px
     * padding between this element's content and the top of the next
     * element's text. */
    margin-bottom: calc(-21px - 8px);
    min-width: calc(
        var(--downloads-card-width) + 2 * var(--downloads-card-margin));
    padding-bottom: 12px;
    padding-top: 12px;
    /* The next element spills over this element. This ensures the link
     * is clickable. */
    z-index: 1;
  }
</style>

<downloads-toolbar id="toolbar" spinner-active="{{spinnerActive_}}"
    role="none" on-search-changed="onSearchChanged_">
</downloads-toolbar>
<div id="drop-shadow" class="cr-container-shadow"></div>
<div id="mainContainer" on-scroll="onScroll_">
  <managed-footnote hidden="[[inSearchMode_]]"></managed-footnote>
  <iron-list id="downloadsList" items="[[items_]]"
      role="grid" aria-rowcount$="[[items_.length]]"
      hidden="[[!hasDownloads_]]" scroll-target="mainContainer"
      preserve-focus>
    <template>
      <downloads-item data="[[item]]" tabindex$="[[tabIndex]]"
          iron-list-tab-index="[[tabIndex]]" last-focused="{{lastFocused_}}"
          list-blurred="{{listBlurred_}}" focus-row-index="[[index]]">
      </downloads-item>
    </template>
  </iron-list>
  <div id="no-downloads" hidden="[[hasDownloads_]]">
    <div class="no-results">
      <div class="illustration"></div>
      <span>[[noDownloadsText_(inSearchMode_)]]</span>
    </div>
  </div>
</div>
<cr-toast-manager duration="10000">
  <cr-button aria-label="$i18n{undoDescription}" on-click="onUndoClick_">
    $i18n{undo}
  </cr-button>
</cr-toast-manager>
